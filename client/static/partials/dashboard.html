<div ng-controller='PollController'>
	<a href='#/create'>Create a new poll</a> || <a href='#/logout' ng-click="logout()">Logout</a>

	<h1>Welcome {{current_user.name}}</h1>
	<h3>Current Polls:</h3>

	<input type='text' ng-model='filterer' placeholder='Search'>
	<table>
		<tr>
			<th>Name</th>
			<th>Survey Question</th>
			<th>Date Posted</th>
			<th>Action</th>
		</tr>
		<tr ng-repeat='poll in polls | filter:filterer'>
			
			<td>{{poll._user.name}}</td>
			<td> <a href="#/poll/{{poll._id}}">{{poll.question}}</a> </td>
			<td>{{poll.created_at}}</td>
			<td ng-if='poll._user._id == current_user._id'> <button ng-click='deletePoll(poll)'>Delete</button> </td>

		</tr>
	</table>
</div>